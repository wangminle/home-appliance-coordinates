# 家居设备坐标距离角度绘制工具 - 用户使用手册

## 1. 应用简介

欢迎使用"家居设备坐标距离角度绘制工具"！

本工具旨在帮助您轻松可视化地规划和分析家中各种设备的布局。您可以通过输入设备的坐标，在二维平面上直观地看到它们的位置，并实时测量任意点相对于中心原点的距离和角度。

无论是为家庭影院系统精确摆放音响，还是为智能家居设备规划最佳信号覆盖范围，本工具都能为您提供强大的辅助。

### 主要功能
- **自定义坐标系**: 根据您的实际场地大小，自由设置坐标系的显示范围。
- **设备管理**: 方便地添加、修改、删除设备，并实时在图上查看其位置。
- **实时测量**: 使用鼠标在图上任意点击，即可获得该点与原点（0,0）之间的精确距离和角度。
- **高清导出**: 一键将当前的设备布局图导出为高清PNG图片，方便您保存、分享或打印。
- **高效操作**: 支持快捷键，提升您的操作效率。

---

## 2. 快速上手

### 2.1 界面概览

应用主界面分为左右两个部分：

- **左侧 (坐标可视化展示区)**: 这是一个800x800像素的区域，用于实时显示您的设备布局、坐标网格以及测量信息。
- **右侧 (功能操作面板)**: 您可以在这里进行所有的设置和操作，包括调整坐标范围、管理设备列表以及执行导出/重置等命令。

![界面截图](./images/screenshot.png "应用主界面截图")

### 2.2 基本操作流程

1. **设置坐标范围**:
   - 在右上角的"坐标显示范围设置"区域，输入您希望的X轴和Y轴的最大范围值。
   - 点击 **应用范围** 按钮，左侧的坐标系会立刻更新。

2. **添加设备**:
   - 在"设备管理"区域的输入框中，填写新设备的 **名称**、**X坐标** 和 **Y坐标**。
   - 点击 **添加设备** 按钮，该设备会立即出现在左侧的坐标图上，并被添加到设备列表中。

3. **进行测量**:
   - 将鼠标移动到左侧坐标图上，会出现十字光标辅助定位。
   - **左键单击** 图上任意位置，会生成一个测量点，并显示该点相对于原点(0,0)的距离和角度信息。
   - **右键单击** 图上任意位置，可以清除当前的测量点和信息。

4. **导出图像**:
   - 点击右下角的 **导出PNG** 按钮，或者使用快捷键 `Command/Ctrl + S`。
   - 在弹出的对话框中选择您希望保存的位置和文件名，即可导出一张高清的布局图。

---

## 3. 详细功能说明

### 3.1 坐标显示范围设置

- **X轴/Y轴范围**: 定义了坐标系在水平和垂直方向上从0点到边缘的逻辑距离。例如，设置为5，则X轴范围为-5到+5。
- **有效范围**: 为了保证显示效果和性能，范围值必须在 **0.1** 到 **50.0** 之间。

### 3.2 设备管理

本区域使用一个交互式的列表来管理您的所有设备。

- **设备列表 (Treeview)**:
  - 清晰地展示了每个设备的 **ID**、**名称** 和 **坐标**。
  - 单击列表中的任意设备，即可将其信息加载到下方的编辑框中。

- **编辑与更新**:
  - 当您从列表中选择一个设备后，**添加设备** 按钮会自动变为 **更新设备**。
  - 您可以在输入框中修改设备的名称或坐标，然后点击 **更新设备** 按钮来保存更改。

- **删除设备**:
  - 从列表中选择一个设备后，**删除设备** 按钮会变为可用状态。
  - 点击该按钮，在弹出的确认框中选择"是"，即可永久删除该设备。

- **取消选择**:
  - 如果您想添加一个新设备而不是更新现有设备，只需再次点击列表中已选中的项，即可取消选择。此时"更新设备"按钮会变回"添加设备"。

### 3.3 高级功能

- **重置应用**:
  - 点击右下角的 **重置所有** 按钮，或者使用快捷键 `Command/Ctrl + R`。
  - 这会将坐标范围、设备列表等所有信息恢复到应用初始的默认状态。这是一个不可逆操作，请谨慎使用。

- **导出PNG**:
  - 此功能会将当前左侧画布的所有内容（包括网格、坐标轴、所有设备及其标签、当前的测量点信息等）绘制到一张 **1920x1920** 像素的高清PNG图片中。
  - 这确保了您得到的图片质量远高于简单的屏幕截图。

---

## 4. 快捷键列表

- **导出图像**: `Command + S` (macOS) 或 `Ctrl + S` (Windows/Linux)
- **重置应用**: `Command + R` (macOS) 或 `Ctrl + R` (Windows/Linux)

---

## 5. 常见问题 (FAQ)

**Q: 为什么我设置的坐标范围没有生效？**
**A:** 请确保您在输入新的范围值后，点击了"应用范围"按钮。同时，检查您输入的值是否在0.1到50.0的有效区间内。

**Q: 我可以一次性导入多个设备吗？**
**A:** 当前版本暂不支持批量导入功能。您需要逐个手动添加设备。

**Q: 导出的图片为什么比我屏幕上看到的要大得多？**
**A:** 为了保证打印和分享的质量，导出功能被设计为生成一张固定的高分辨率（1920x1920像素）图像，而不是简单地截取屏幕。这确保了图像在放大后依然清晰。 