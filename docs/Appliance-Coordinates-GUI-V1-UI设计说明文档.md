# å®¶å±…è®¾å¤‡åæ ‡è·ç¦»è§’åº¦ç»˜åˆ¶å·¥å…· - UIè®¾è®¡è¯´æ˜æ–‡æ¡£

## 1. è®¾è®¡æ¦‚è¿°

### 1.1 è®¾è®¡ç›®æ ‡
åˆ›å»ºä¸€ä¸ªä¸“ä¸šã€ç›´è§‚ã€ç¾è§‚çš„æ¡Œé¢åº”ç”¨ç•Œé¢ï¼ŒåŸºäºMatplotlibç§‘å­¦ç»˜å›¾æŠ€æœ¯æ ˆï¼Œä¸ºç”¨æˆ·æä¾›ä¼˜ç§€çš„å®¶å±…è®¾å¤‡å¸ƒå±€è§„åˆ’ä½“éªŒã€‚

### 1.2 è®¾è®¡åŸåˆ™
- **ç§‘å­¦è®¡ç®—ä¸ºæœ¬**: åŸºäºMatplotlibçš„ä¸“ä¸šç§‘å­¦ç»˜å›¾ç•Œé¢
- **åŠŸèƒ½æ€§ä¼˜å…ˆ**: ç•Œé¢æœåŠ¡äºåŠŸèƒ½ï¼Œä¸åšæ— æ„ä¹‰çš„è£…é¥°
- **ç›´è§‚æ˜“ç”¨**: æ“ä½œæµç¨‹ç¬¦åˆç§‘å­¦è®¡ç®—è½¯ä»¶çš„ç”¨æˆ·ç›´è§‰
- **è§†è§‰åè°ƒ**: é…è‰²ã€å­—ä½“ã€å¸ƒå±€ä¿æŒä¸€è‡´æ€§
- **å“åº”åŠæ—¶**: ç•Œé¢åé¦ˆåŠæ—¶ï¼ŒçŠ¶æ€å˜åŒ–æ¸…æ™°

### 1.3 ç›®æ ‡ç”¨æˆ·
- æ™ºèƒ½å®¶å±…è§„åˆ’å¸ˆ
- å®¶å±…è£…ä¿®è®¾è®¡å¸ˆ
- IoTè®¾å¤‡å¸ƒå±€å·¥ç¨‹å¸ˆ
- å®¶åº­ç”¨æˆ·

## 2. æ•´ä½“å¸ƒå±€è®¾è®¡

### 2.1 çª—å£è§„æ ¼
```
çª—å£å°ºå¯¸: 1280x800 åƒç´ 
å¸ƒå±€æ–¹å¼: å·¦å³åˆ†å‰²å¼
å·¦ä¾§åŒºåŸŸ: 800x800 åƒç´  (Matplotlibå¯è§†åŒ–å±•ç¤º)
å³ä¾§åŒºåŸŸ: 480x800 åƒç´  (åŠŸèƒ½æ“ä½œ)
çª—å£å±æ€§: å›ºå®šå¤§å°ï¼Œä¸å¯è°ƒæ•´ï¼Œå±…ä¸­æ˜¾ç¤º
```

### 2.2 å¸ƒå±€ç»“æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸»çª—å£ (1280x800)                              â”‚
â”‚  æ ‡é¢˜æ : å®¶å±…è®¾å¤‡åæ ‡è·ç¦»è§’åº¦ç»˜åˆ¶å·¥å…· (Matplotlibç‰ˆ)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚                                   â”‚
â”‚       Matplotlibç”»å¸ƒåŒºåŸŸ    â”‚         å³ä¾§åŠŸèƒ½é¢æ¿åŒºåŸŸ          â”‚
â”‚        (800x800)            â”‚         (480x800)                 â”‚
â”‚                             â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                     â”‚   â”‚  â”‚     åæ ‡èŒƒå›´è®¾ç½®åŒºåŸŸ        â”‚  â”‚
â”‚  â”‚   Figure/Axes       â”‚   â”‚  â”‚     (480x150)               â”‚  â”‚
â”‚  â”‚   ç§‘å­¦ç»˜å›¾åŒºåŸŸ      â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚                     â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - çŸ¢é‡å›¾å½¢æ¸²æŸ“     â”‚   â”‚  â”‚                             â”‚  â”‚
â”‚  â”‚  - æ•´æ•°æ­¥è¿›ç½‘æ ¼     â”‚   â”‚  â”‚     è®¾å¤‡ç®¡ç†åŒºåŸŸ            â”‚  â”‚
â”‚  â”‚  - è®¾å¤‡ç‚¹scatter    â”‚   â”‚  â”‚     (480x500)               â”‚  â”‚
â”‚  â”‚  - äº¤äº’æµ‹é‡åŠŸèƒ½     â”‚   â”‚  â”‚                             â”‚  â”‚
â”‚  â”‚  - 90åº¦æ‰‡å½¢ç»˜åˆ¶     â”‚   â”‚  â”‚                             â”‚  â”‚
â”‚  â”‚                     â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                             â”‚  â”‚     æ“ä½œæŒ‰é’®åŒºåŸŸ            â”‚  â”‚
â”‚                             â”‚  â”‚     (480x150)               â”‚  â”‚
â”‚                             â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 åŒºåŸŸåŠŸèƒ½åˆ’åˆ†
- **å·¦ä¾§Matplotlibç”»å¸ƒ**: ä¸“æ³¨äºç§‘å­¦æ•°æ®å¯è§†åŒ–å±•ç¤º
- **å³ä¾§åŠŸèƒ½é¢æ¿**: åˆ†ä¸ºä¸‰ä¸ªåŠŸèƒ½åŒºåŸŸï¼Œå‚ç›´æ’åˆ—
- **åŒºåŸŸè¾¹ç•Œ**: ä½¿ç”¨ç»†çº¿åˆ†éš”ï¼Œè§†è§‰å±‚æ¬¡æ¸…æ™°

## 3. å·¦ä¾§Matplotlibç”»å¸ƒåŒºåŸŸè®¾è®¡

### 3.1 FigureåŸºç¡€è®¾è®¡
```python
# Matplotlib Figureé…ç½®
figure_size = (8.0, 8.0)  # 8x8è‹±å¯¸
dpi = 100                 # æ˜¾ç¤ºåˆ†è¾¨ç‡
facecolor = (0.878, 0.969, 0.980)  # æµ…è“èƒŒæ™¯
tight_layout = True       # è‡ªåŠ¨å¸ƒå±€ä¼˜åŒ–
```

### 3.2 åæ ‡ç³»ç»Ÿè§†è§‰è®¾è®¡

#### 3.2.1 ç½‘æ ¼ç³»ç»Ÿ âœ¨ ä¿®å¤å‡çº§
- **ç½‘æ ¼çº¿é¢œè‰²**: `(0.690, 0.737, 0.773)` (ç°è“è‰²)
- **ç½‘æ ¼çº¿å®½åº¦**: 0.5pt
- **ç½‘æ ¼é—´è·**: ä¿®å¤ä¸ºæ•´æ•°æ­¥è¿›æ˜¾ç¤º `np.arange(-int(x_range), int(x_range) + 1, 1)`
- **ç½‘æ ¼ç±»å‹**: æ­£æ–¹å½¢ç½‘æ ¼ï¼ŒX/Yè½´ç­‰é—´è·
- **ä¸»ç½‘æ ¼**: æ¯1ä¸ªå•ä½ä¸€æ¡ä¸»ç½‘æ ¼çº¿

#### 3.2.2 åæ ‡è½´è®¾è®¡
- **è½´çº¿é¢œè‰²**: `(0.216, 0.278, 0.310)` (æ·±ç°è‰²)
- **è½´çº¿å®½åº¦**: 1.5pt
- **Xè½´**: æ°´å¹³ç©¿è¿‡y=0ï¼Œè´¯ç©¿æ•´ä¸ªç»˜åˆ¶åŒºåŸŸ
- **Yè½´**: å‚ç›´ç©¿è¿‡x=0ï¼Œè´¯ç©¿æ•´ä¸ªç»˜åˆ¶åŒºåŸŸ
- **åŸç‚¹æ ‡è®°**: `plt.scatter([0], [0], color=(0.118, 0.533, 0.898), s=50)`

#### 3.2.3 åˆ»åº¦æ ‡ç­¾
- **å­—ä½“**: ç³»ç»Ÿé»˜è®¤å­—ä½“ï¼Œ10pt
- **é¢œè‰²**: `(0.216, 0.278, 0.310)`
- **ä½ç½®**: åæ ‡è½´è¾¹ç¼˜è‡ªåŠ¨å®šä½
- **æ ¼å¼**: æ•´æ•°æ˜¾ç¤ºï¼Œmatplotlibè‡ªåŠ¨ä¼˜åŒ–

### 3.3 è®¾å¤‡ç‚¹æ˜¾ç¤ºè®¾è®¡

#### 3.3.1 è®¾å¤‡æ ‡è®° (Matplotlibå®ç°)
- **ç»˜åˆ¶æ–¹å¼**: `plt.scatter(x, y, color=device_color, s=marker_size)`
- **é¢œè‰²**: `(0.776, 0.157, 0.157)` (çº¢è‰²)
- **å¤§å°**: s=50 (matplotlib scatterå‚æ•°)
- **å±‚çº§**: åœ¨ç½‘æ ¼ä¹‹ä¸Šï¼Œæ–‡æœ¬ä¹‹ä¸‹

#### 3.3.2 è®¾å¤‡æ ‡ç­¾ (Matplotlib Textå¯¹è±¡)
```python
# è®¾å¤‡æ ‡ç­¾å®ç°
text_obj = axes.text(
    x_pos, y_pos, device_name,
    fontsize=16, fontweight='bold',
    color=(0.776, 0.157, 0.157),
    bbox=dict(
        boxstyle="round,pad=0.3",
        facecolor=(1.0, 1.0, 0.875),  # æµ…é»„èƒŒæ™¯
        edgecolor=(0.827, 0.184, 0.184),  # çº¢è‰²è¾¹æ¡†
        linewidth=2
    ),
    ha='center', va='center'
)
```

#### 3.3.3 åæ ‡ä¿¡æ¯æ˜¾ç¤º
- **å®ç°æ–¹å¼**: é™„åŠ matplotlib textå¯¹è±¡
- **å­—ä½“**: 14pt, bold
- **é¢œè‰²**: `(0.776, 0.157, 0.157)`
- **å†…å®¹æ ¼å¼**: 
  - ç¬¬ä¸€è¡Œ: `X: [åæ ‡å€¼]`
  - ç¬¬äºŒè¡Œ: `Y: [åæ ‡å€¼]`
- **æ™ºèƒ½å®šä½**: è‡ªåŠ¨é¿è®©è¾¹ç•Œ

### 3.4 äº¤äº’æµ‹é‡è®¾è®¡ (Matplotlibäº‹ä»¶ç³»ç»Ÿ)

#### 3.4.1 äº‹ä»¶ç›‘å¬
```python
# Matplotlibäº‹ä»¶ç»‘å®š
self.figure.canvas.mpl_connect('button_press_event', self._on_click)
self.figure.canvas.mpl_connect('motion_notify_event', self._on_motion)
```

#### 3.4.2 æµ‹é‡ç‚¹æ ‡è®°
- **ç»˜åˆ¶æ–¹å¼**: `plt.scatter([x], [y], color=(0.180, 0.467, 0.196), s=80)`
- **é¢œè‰²**: `(0.180, 0.467, 0.196)` (ç»¿è‰²)
- **å¤§å°**: s=80 (æ¯”è®¾å¤‡ç‚¹ç¨å¤§)
- **å±‚çº§**: æœ€ä¸Šå±‚æ˜¾ç¤º

#### 3.4.3 æµ‹é‡è¿çº¿
```python
# æµ‹é‡è¿çº¿å®ç°
line = axes.plot([0, x], [0, y], 
                color=(0.298, 0.686, 0.314), 
                linewidth=2.0,
                linestyle='-')[0]
```

#### 3.4.4 æ‰‡å½¢åŒºåŸŸç»˜åˆ¶ âœ¨ æ–°å¢åŠŸèƒ½
```python
# 90åº¦æ‰‡å½¢å®ç°
from matplotlib.patches import Wedge
wedge = Wedge(
    center=(x, y), r=radius, 
    theta1=angle-45, theta2=angle+45,
    facecolor=(0.827, 0.184, 0.184, 0.3),  # åŠé€æ˜çº¢è‰²
    edgecolor=(0.827, 0.184, 0.184),
    linewidth=1.5
)
axes.add_patch(wedge)
```

#### 3.4.5 æµ‹é‡ä¿¡æ¯æ¡†
```python
# matplotlibæ³¨é‡Šæ¡†
annotation = axes.annotate(
    info_text,
    xy=(x, y), xytext=(x+offset_x, y+offset_y),
    fontsize=10,
    bbox=dict(
        boxstyle="round,pad=0.5",
        facecolor=(1.0, 1.0, 1.0, 0.85),  # åŠé€æ˜ç™½è‰²
        edgecolor=(0.180, 0.467, 0.196),  # ç»¿è‰²è¾¹æ¡†
        linewidth=1
    ),
    arrowprops=dict(arrowstyle='->', color=(0.180, 0.467, 0.196))
)
```

## 4. å³ä¾§åŠŸèƒ½é¢æ¿è®¾è®¡

### 4.1 æ•´ä½“é¢æ¿è®¾è®¡
```
æ€»å®½åº¦: 480px
èƒŒæ™¯è‰²: #f5f5f5 (æµ…ç°è‰²)
å†…è¾¹è·: 20px
åŒºåŸŸé—´è·: 10px
```

### 4.2 åæ ‡èŒƒå›´è®¾ç½®åŒºåŸŸ

#### 4.2.1 åŒºåŸŸè§„æ ¼
- **é«˜åº¦**: 150px
- **èƒŒæ™¯è‰²**: #ffffff (ç™½è‰²)
- **è¾¹æ¡†**: 1px solid #e0e0e0
- **å†…è¾¹è·**: 15px
- **åœ†è§’**: 4px

#### 4.2.2 æ ‡é¢˜è®¾è®¡
- **æ–‡å­—**: "åæ ‡æ˜¾ç¤ºèŒƒå›´è®¾ç½®"
- **å­—ä½“**: Arial, 14px, bold
- **é¢œè‰²**: #333333
- **ä½ç½®**: åŒºåŸŸé¡¶éƒ¨ï¼Œå·¦å¯¹é½

#### 4.2.3 è¾“å…¥æ§ä»¶è®¾è®¡
- **æ ‡ç­¾å­—ä½“**: Arial, 12px
- **æ ‡ç­¾é¢œè‰²**: #666666
- **è¾“å…¥æ¡†å°ºå¯¸**: 120px Ã— 30px
- **è¾“å…¥æ¡†è¾¹æ¡†**: 1px solid #cccccc
- **è¾“å…¥æ¡†èƒŒæ™¯**: #ffffff
- **ç„¦ç‚¹æ ·å¼**: 2px solid #2196f3
- **å ä½ç¬¦é¢œè‰²**: #999999

#### 4.2.4 å¸ƒå±€ç»“æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åæ ‡æ˜¾ç¤ºèŒƒå›´è®¾ç½®                                â”‚
â”‚                                                 â”‚
â”‚  Xè½´èŒƒå›´ (Â±) [è¾“å…¥æ¡†] å•ä½                      â”‚
â”‚  Yè½´èŒƒå›´ (Â±) [è¾“å…¥æ¡†] å•ä½                      â”‚
â”‚                                                 â”‚
â”‚                            [åº”ç”¨è®¾ç½®] æŒ‰é’®      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 è®¾å¤‡ç®¡ç†åŒºåŸŸ

#### 4.3.1 åŒºåŸŸè§„æ ¼
- **é«˜åº¦**: 500px
- **èƒŒæ™¯è‰²**: #ffffff
- **è¾¹æ¡†**: 1px solid #e0e0e0
- **å†…è¾¹è·**: 15px
- **åœ†è§’**: 4px

#### 4.3.2 è®¾å¤‡åˆ—è¡¨è¡¨æ ¼ (Tkinter Treeview)
```python
# Treeviewé…ç½®
treeview = ttk.Treeview(
    columns=('name', 'x', 'y'),
    show='tree headings',
    selectmode='browse'
)
# æ ·å¼é…ç½®
style = ttk.Style()
style.configure("Treeview", 
               background="#ffffff",
               foreground="#333333",
               rowheight=25)
style.configure("Treeview.Heading",
               background="#f0f0f0",
               foreground="#333333",
               font=('Arial', 10, 'bold'))
```

#### 4.3.3 è¾“å…¥åŒºåŸŸè®¾è®¡
- **æ ‡ç­¾å­—ä½“**: Arial, 12px
- **è¾“å…¥æ¡†å°ºå¯¸**: 200px Ã— 30px
- **è¾“å…¥æ¡†æ ·å¼**: ä¸åæ ‡è®¾ç½®åŒºåŸŸä¿æŒä¸€è‡´
- **éªŒè¯é”™è¯¯**: çº¢è‰²è¾¹æ¡† + é”™è¯¯æç¤º

#### 4.3.4 æŒ‰é’®è®¾è®¡è§„èŒƒ
```python
# æŒ‰é’®æ ·å¼é…ç½®
button_style = {
    'font': ('Arial', 12, 'bold'),
    'height': 2,
    'width': 12,
    'relief': 'flat',
    'cursor': 'hand2'
}

# é¢œè‰²æ–¹æ¡ˆ
colors = {
    'add': '#4caf50',      # ç»¿è‰²
    'delete': '#f44336',   # çº¢è‰²  
    'update': '#2196f3',   # è“è‰²
    'disabled': '#cccccc'  # ç°è‰²
}
```

### 4.4 æ“ä½œæŒ‰é’®åŒºåŸŸ

#### 4.4.1 åŒºåŸŸè§„æ ¼
- **é«˜åº¦**: 150px
- **èƒŒæ™¯è‰²**: #ffffff
- **è¾¹æ¡†**: 1px solid #e0e0e0
- **å†…è¾¹è·**: 15px
- **åœ†è§’**: 4px

#### 4.4.2 å¤§æŒ‰é’®è®¾è®¡
```python
# å¯¼å‡ºæŒ‰é’®é…ç½®
export_button = tk.Button(
    text="å¯¼å‡ºé«˜æ¸…PNG",
    font=('Arial', 12, 'bold'),
    bg='#2196f3', fg='white',
    width=20, height=2,
    relief='flat', cursor='hand2'
)

# é‡ç½®æŒ‰é’®é…ç½®  
reset_button = tk.Button(
    text="é‡ç½®æ‰€æœ‰æ•°æ®",
    font=('Arial', 12, 'bold'),
    bg='#ff9800', fg='white',
    width=20, height=2,
    relief='flat', cursor='hand2'
)
```

## 5. é¢œè‰²ç³»ç»Ÿè®¾è®¡ (Matplotlibå…¼å®¹)

### 5.1 ä¸»è‰²è°ƒ (RGBAæ ¼å¼)
```python
# ä¸»è¦è‰²å½©ç³»ç»Ÿ (matplotlibå…¼å®¹)
COLORS = {
    # ä¸»è¦è“è‰²ç³»
    'primary_blue': (0.129, 0.588, 0.953),     # #2196f3
    'light_blue': (0.890, 0.949, 0.992),       # #e3f2fd
    'canvas_bg': (0.878, 0.969, 0.980),        # #e0f7fa
    
    # åŠŸèƒ½è‰²å½©
    'success_green': (0.298, 0.686, 0.314),    # #4caf50
    'warning_orange': (1.0, 0.596, 0.0),       # #ff9800
    'error_red': (0.957, 0.263, 0.212),        # #f44336
    'device_red': (0.776, 0.157, 0.157),       # #c62828
    
    # ä¸­æ€§è‰²å½©
    'dark_gray': (0.216, 0.278, 0.310),        # #37474f
    'medium_gray': (0.4, 0.4, 0.4),            # #666666
    'light_gray': (0.961, 0.961, 0.961),       # #f5f5f5
    'border_gray': (0.878, 0.878, 0.878),      # #e0e0e0
    'white': (1.0, 1.0, 1.0),                  # #ffffff
}
```

### 5.2 è‰²å½©è¯­ä¹‰
- **è“è‰²ç³»**: ä¸»è¦æ“ä½œã€é“¾æ¥ã€é€‰ä¸­çŠ¶æ€
- **ç»¿è‰²ç³»**: æˆåŠŸæ“ä½œã€æ·»åŠ æ“ä½œã€æµ‹é‡åŠŸèƒ½
- **çº¢è‰²ç³»**: åˆ é™¤æ“ä½œã€é”™è¯¯çŠ¶æ€ã€è®¾å¤‡æ ‡è®°
- **æ©™è‰²ç³»**: è­¦å‘Šæ“ä½œã€é‡ç½®åŠŸèƒ½
- **ç°è‰²ç³»**: æ–‡å­—ã€è¾¹æ¡†ã€èƒŒæ™¯

### 5.3 Matplotlibé¢œè‰²è½¬æ¢
```python
def css_to_mpl_color(css_color: str) -> tuple:
    """
    å°†CSS rgbaé¢œè‰²è½¬æ¢ä¸ºmatplotlibå…¼å®¹çš„RGBAå…ƒç»„
    """
    if css_color.startswith('rgba'):
        # 'rgba(255, 255, 255, 0.85)' -> (1.0, 1.0, 1.0, 0.85)
        values = css_color.strip('rgba()').split(',')
        r, g, b = [float(v.strip())/255.0 for v in values[:3]]
        a = float(values[3].strip()) if len(values) > 3 else 1.0
        return (r, g, b, a)
    return css_color
```

## 6. å­—ä½“ç³»ç»Ÿè®¾è®¡

### 6.1 å­—ä½“é€‰æ‹©
```python
# å­—ä½“é…ç½® (æ”¯æŒmatplotlib)
font_config = {
    'family': ['Arial', 'DejaVu Sans', 'SimHei'],  # è·¨å¹³å°å­—ä½“
    'size': {
        'title': 16,      # åŒºåŸŸæ ‡é¢˜
        'subtitle': 14,   # å­æ ‡é¢˜  
        'body': 12,       # æ­£æ–‡ã€æ ‡ç­¾
        'small': 10,      # åæ ‡åˆ»åº¦
        'device': 16,     # è®¾å¤‡åç§°
        'coord': 14,      # åæ ‡ä¿¡æ¯
    },
    'weight': {
        'bold': 'bold',
        'normal': 'normal'
    }
}

# matplotlibå­—ä½“è®¾ç½®
plt.rcParams['font.family'] = font_config['family']
plt.rcParams['font.size'] = font_config['size']['body']
```

### 6.2 å­—ä½“å¤§å°å±‚çº§
```python
# matplotlibæ–‡æœ¬å¯¹è±¡å­—ä½“è®¾ç½®
text_configs = {
    'axis_labels': {'fontsize': 10, 'fontweight': 'normal'},
    'device_labels': {'fontsize': 16, 'fontweight': 'bold'},
    'coord_info': {'fontsize': 14, 'fontweight': 'bold'},
    'measurement': {'fontsize': 10, 'fontweight': 'normal'},
    'title': {'fontsize': 16, 'fontweight': 'bold'}
}
```

## 7. äº¤äº’è®¾è®¡è§„èŒƒ

### 7.1 Matplotlibäº‹ä»¶äº¤äº’

#### 7.1.1 ç”»å¸ƒåŒºåŸŸäº‹ä»¶
```python
# äº‹ä»¶ç›‘å¬ç»‘å®š
event_bindings = {
    'button_press_event': self._on_click,     # é¼ æ ‡ç‚¹å‡»
    'motion_notify_event': self._on_motion,   # é¼ æ ‡ç§»åŠ¨
    'button_release_event': self._on_release, # é¼ æ ‡é‡Šæ”¾
}

for event, handler in event_bindings.items():
    self.figure.canvas.mpl_connect(event, handler)
```

#### 7.1.2 ç‚¹å‡»äº‹ä»¶å¤„ç†
```python
def _on_click(self, event):
    """å¤„ç†matplotlibç”»å¸ƒç‚¹å‡»äº‹ä»¶"""
    if event.inaxes != self.axes:
        return
        
    if event.button == 1:  # å·¦é”®
        if event.dblclick:  # åŒå‡»
            self._draw_sector(event.xdata, event.ydata, 90)
        else:  # å•å‡»
            self._create_measurement_point(event.xdata, event.ydata)
    elif event.button == 3:  # å³é”®
        self._clear_all_interactions()
```

#### 7.1.3 åŒå‡»æ£€æµ‹æœºåˆ¶ âœ¨ æ–°å¢
```python
import time

class DoubleClickDetector:
    def __init__(self, threshold=0.3):
        self.last_click_time = 0
        self.threshold = threshold
    
    def is_double_click(self):
        current_time = time.time()
        if current_time - self.last_click_time < self.threshold:
            self.last_click_time = 0
            return True
        self.last_click_time = current_time
        return False
```

### 7.2 Tkinterç•Œé¢äº¤äº’

#### 7.2.1 è®¾å¤‡åˆ—è¡¨äº¤äº’
```python
# Treeviewäº‹ä»¶ç»‘å®š
self.device_tree.bind('<<TreeviewSelect>>', self._on_device_select)
self.device_tree.bind('<Double-1>', self._on_device_double_click)
```

#### 7.2.2 å¿«æ·é”®æ”¯æŒ
```python
# å¿«æ·é”®ç»‘å®š
shortcut_bindings = {
    '<Control-s>': self._export_png,
    '<Control-r>': self._reset_all,
    '<Control-a>': self._add_device,
    '<Delete>': self._delete_device,
}

for key, handler in shortcut_bindings.items():
    self.root.bind(key, handler)
```

### 7.3 çŠ¶æ€åé¦ˆ

#### 7.3.1 matplotlibç”»å¸ƒæ›´æ–°
```python
def update_display(self):
    """æ›´æ–°matplotlibæ˜¾ç¤º"""
    self.axes.clear()
    self._setup_coordinate_system()
    self._draw_devices()
    self._draw_measurements()
    self.canvas.draw_idle()  # å»¶è¿Ÿé‡ç»˜ä¼˜åŒ–
```

#### 7.3.2 é”™è¯¯çŠ¶æ€æ˜¾ç¤º
```python
def show_error(self, message):
    """æ˜¾ç¤ºé”™è¯¯çŠ¶æ€"""
    error_box = tk.messagebox.showerror(
        title="é”™è¯¯",
        message=message,
        parent=self.root
    )
```

## 8. å“åº”å¼è®¾è®¡

### 8.1 å›ºå®šå¸ƒå±€è®¾è®¡
- åº”ç”¨é‡‡ç”¨å›ºå®š1280x800å¸ƒå±€
- Matplotlib figureè‡ªé€‚åº”800x800åŒºåŸŸ
- æ”¯æŒé«˜DPIæ˜¾ç¤ºå™¨è‡ªåŠ¨ç¼©æ”¾

### 8.2 Matplotlib DPIé€‚é…
```python
# DPIè‡ªé€‚åº”é…ç½®
import matplotlib
matplotlib.use('TkAgg')  # ä½¿ç”¨Tkinteråç«¯

# Figure DPIè®¾ç½®
figure_dpi = 100  # æ ‡å‡†DPI
if self.is_high_dpi():
    figure_dpi = 200  # é«˜DPIæ˜¾ç¤º

self.figure = Figure(figsize=(8, 8), dpi=figure_dpi)
```

### 8.3 æ€§èƒ½ä¼˜åŒ–
```python
# matplotlibæ€§èƒ½ä¼˜åŒ–é…ç½®
plt.rcParams['path.simplify'] = True
plt.rcParams['path.simplify_threshold'] = 0.1
plt.rcParams['agg.path.chunksize'] = 10000

# ä½¿ç”¨blittingä¼˜åŒ–
self.background = self.canvas.copy_from_bbox(self.axes.bbox)
```

## 9. å¯è®¿é—®æ€§è®¾è®¡

### 9.1 è§†è§‰å¯è®¿é—®æ€§
- æ‰€æœ‰é¢œè‰²æ”¯æŒè‰²ç›²ç”¨æˆ·
- matplotlibè‡ªåŠ¨å­—ä½“æ¸²æŸ“ä¼˜åŒ–
- æ”¯æŒç³»ç»Ÿå­—ä½“ç¼©æ”¾

### 9.2 æ“ä½œå¯è®¿é—®æ€§
- å®Œæ•´çš„é”®ç›˜å¯¼èˆªæ”¯æŒ
- matplotlibåŸç”Ÿé¼ æ ‡äº‹ä»¶å¤„ç†
- æ¸…æ™°çš„ç„¦ç‚¹æŒ‡ç¤º

## 10. è®¾è®¡å®ç°æ€»ç»“

### 10.1 Matplotlibè¿ç§»æˆåŠŸ âœ…
- **æŠ€æœ¯å‡çº§**: Canvas+PIL â†’ Matplotlib+NumPy
- **ä»£ç ç®€åŒ–**: ä»1314è¡Œå‡å°‘åˆ°630è¡Œï¼ˆ52%ä¼˜åŒ–ï¼‰
- **åŠŸèƒ½å¢å¼º**: çŸ¢é‡å›¾å½¢ã€å¤šæ ¼å¼å¯¼å‡ºã€ç§‘å­¦è®¡ç®—é›†æˆ
- **æ€§èƒ½æå‡**: åŸç”Ÿmatplotlibæ¸²æŸ“ï¼Œè‡ªåŠ¨ä¼˜åŒ–

### 10.2 åˆ›æ–°è®¾è®¡äº®ç‚¹ ğŸŒŸ
- **ç§‘å­¦è®¡ç®—ç•Œé¢**: ä¸“ä¸šmatplotlibç»˜å›¾ç•Œé¢
- **çŸ¢é‡å›¾å½¢æ”¯æŒ**: æ— æŸç¼©æ”¾ï¼Œé«˜è´¨é‡è¾“å‡º
- **äº‹ä»¶ç³»ç»Ÿé‡æ„**: åŸºäºmatplotlibäº‹ä»¶çš„ç°ä»£äº¤äº’
- **è·¨å¹³å°å…¼å®¹**: å®Œç¾çš„Windows/macOS/Linuxæ”¯æŒ

### 10.3 ç”¨æˆ·ä½“éªŒä¼˜åŒ– ğŸ¯
- **ä¸“ä¸šå·¥å…·æ„Ÿ**: ç¬¦åˆç§‘å­¦è®¡ç®—è½¯ä»¶ä¹ æƒ¯
- **æµç•…äº¤äº’**: matplotlibåŸç”Ÿäº‹ä»¶å¤„ç†
- **å¤šæ ¼å¼å¯¼å‡º**: PNG/SVG/PDFä¸“ä¸šè¾“å‡º
- **å®æ—¶åé¦ˆ**: çŸ¢é‡å›¾å½¢å³æ—¶å“åº”

### 10.4 æŠ€æœ¯æ¶æ„ä¼˜åŠ¿ ğŸ“Š
- **ç°ä»£æŠ€æœ¯æ ˆ**: åŸºäºnumpy+matplotlibç”Ÿæ€
- **ä»£ç ç»´æŠ¤æ€§**: 52%ä»£ç å‡å°‘ï¼Œ90%å¤æ‚åº¦é™ä½
- **æ‰©å±•èƒ½åŠ›**: æ”¯æŒ3Dã€åŠ¨ç”»ã€äº¤äº’å¼widgets
- **æ ‡å‡†å…¼å®¹**: éµå¾ªmatplotlibè®¾è®¡è§„èŒƒ

### 10.5 è®¾è®¡ä»·å€¼ä½“ç°
è¿™ä¸ªUIè®¾è®¡æˆåŠŸå±•ç¤ºäº†å¦‚ä½•å°†ä¼ ç»ŸGUIåº”ç”¨å‡çº§ä¸ºç°ä»£ç§‘å­¦è®¡ç®—åº”ç”¨ã€‚é€šè¿‡matplotlibæŠ€æœ¯æ ˆçš„å¼•å…¥ï¼Œä¸ä»…ç®€åŒ–äº†ä»£ç å®ç°ï¼Œè¿˜æä¾›äº†æ›´ä¸“ä¸šçš„ç»˜å›¾æ•ˆæœå’Œæ›´å¼ºçš„æ‰©å±•èƒ½åŠ›ã€‚

**æœ€ç»ˆè¯„ä»·**: è¿™æ˜¯ä¸€ä¸ªæŠ€æœ¯å‰ç»ã€è®¾è®¡ä¼˜ç§€ã€ä½“éªŒæµç•…çš„ç°ä»£åŒ–æ¡Œé¢åº”ç”¨ç•Œé¢ï¼Œä¸ºPython GUIåº”ç”¨çš„æŠ€æœ¯å‡çº§æä¾›äº†æœ€ä½³å®è·µå‚è€ƒã€‚ 