# UI交互细节调整测试总结（2025-12-12）

## 背景
本次调整目标：优化Matplotlib版交互细节与视觉表现。

## 覆盖范围
- **原始坐标系**：移除原点大蓝点
- **设备标识点**：方块尺寸从约5×5调整为约7×7
- **原始坐标系鼠标随动**：移除随光标出现的坐标信息框
- **单击生成测量点**：圆点直径约6（markersize=6）
- **单击生成测量标签**：
  - 字体/字号与设备标签说明文字一致（fontsize=9，bold）
  - 默认位置在单击点正下方下移2格（2个坐标单位）
  - 标签底色透明度60%（alpha≈0.6）

## 测试脚本
- `tests/test_ui_interaction_tweaks_20251212.py`

## 测试方法
- 使用Mock屏蔽Tk真实组件，避免无GUI环境崩溃。
- 直接验证Matplotlib绘制对象（artist）的关键属性：marker大小、bbox透明度、文本位置、是否存在原点标记等。

## 测试结果
- **结论**：通过。
- **用例数**：4
- **结果**：全部通过（OK）

## 发现的问题与解决
- **问题**：测量标签位置会被布局算法移动，导致无法稳定落在“点正下方下移2格”。
- **解决**：将测量标签与设备标签一样视为“固定标签”，不参与布局算法移动（native布局与adjustText均排除）。

## 备注
- 由于仓库 `.gitignore` 会忽略 `dev/output/`，在沙箱环境下Matplotlib缓存目录不可写；测试使用 `tests/mplconfig` 作为可写缓存目录。 
